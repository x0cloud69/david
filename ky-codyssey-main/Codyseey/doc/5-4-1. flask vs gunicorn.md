Flask와 Gunicorn의 차이점과 배포 시 Gunicorn을 사용하는 이유를 설명해드리겠습니다.

## Flask vs Gunicorn

### Flask
- **개발용 서버**
  - Flask의 내장 서버는 개발 환경에서 사용하기 위해 설계됨
  - 단일 스레드로 동작
  - 한 번에 하나의 요청만 처리 가능
  - 디버깅 기능 제공
  - 성능과 보안이 프로덕션 환경에 적합하지 않음

```python
# Flask 개발 서버 실행 예시
from flask import Flask
app = Flask(__name__)

if __name__ == '__main__':
    app.run(debug=True)
```

### Gunicorn (Green Unicorn)
- **프로덕션용 WSGI 서버**
  - WSGI (Web Server Gateway Interface) 표준을 구현한 프로덕션급 서버
  - 다중 프로세스 아키텍처 지원
  - 동시에 여러 요청 처리 가능
  - 자동 프로세스 관리
  - 로드 밸런싱 기능 내장

```bash
# Gunicorn 실행 예시
gunicorn --workers 4 --bind 0.0.0.0:8000 app:app
```

## Gunicorn을 배포 시 사용하는 이유

1. **성능**
   - 다중 워커 프로세스를 통한 병렬 처리
   - 더 많은 동시 요청 처리 가능
   - CPU 코어를 효율적으로 활용

2. **안정성**
   - 워커 프로세스 자동 관리
   - 프로세스 실패 시 자동 재시작
   - 메모리 누수 방지를 위한 워커 재시작 기능

3. **확장성**
   - 워커 수를 조절하여 서버 부하 관리
   - 다양한 배포 환경에 맞춤 설정 가능
   ```bash
   # CPU 코어 수에 따른 워커 설정 예시
   gunicorn --workers 4 --threads 2 app:app
   ```

4. **보안**
   - 프로덕션 환경에 적합한 보안 기능
   - 디버그 모드 비활성화
   - 민감한 정보 노출 방지

5. **유연성**
   - Nginx와 같은 리버스 프록시와 함께 사용 가능
   - SSL/TLS 종단 처리
   - 정적 파일 서빙 최적화

## 일반적인 프로덕션 구성

```
Client -> Nginx (리버스 프록시) -> Gunicorn -> Flask 애플리케이션
```

이러한 구성의 장점:
1. Nginx가 정적 파일 서빙을 처리
2. SSL/TLS 종단을 Nginx에서 처리
3. Gunicorn이 Flask 애플리케이션의 다중 인스턴스 관리
4. 로드 밸런싱과 고가용성 제공

## 결론

Flask의 개발 서버는 개발과 테스트 목적으로는 좋지만, 프로덕션 환경에서는 성능, 보안, 안정성 측면에서 부족합니다. Gunicorn은 이러한 프로덕션 환경의 요구사항을 충족시키는 견고한 WSGI 서버로, Flask 애플리케이션을 안정적으로 서비스하는 데 필수적인 도구입니다. 특히 Docker 컨테이너 환경에서는 Gunicorn의 프로세스 관리와 확장성 기능이 매우 유용하게 활용됩니다.